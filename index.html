<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>50 Prayers ‚Äî Swipe Loop (Touch + Pointer)</title>
<style>
  /* Reset & base */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    background:#f3f6fb;
    display:flex;
    align-items:center;
    justify-content:center;
    height:100vh;
    overflow:hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* viewport */
  .viewport{
    width:100%;
    max-width:640px;
    height:92vh;
    max-height:900px;
    border-radius:18px;
    overflow:hidden;
    position:relative;
    box-shadow:0 20px 60px rgba(16,24,40,0.12);
    background:linear-gradient(180deg,#f7f9fc,#eef3fb);
  }

  /* track (slides) */
  .track{
    display:flex;
    height:100%;
    transition:transform .42s cubic-bezier(.22,.95,.2,1);
    will-change:transform;
  }

  /* card */
  .card{
    flex:0 0 100%;
    height:100%;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:46px 28px;
    color:#fff;
    position:relative;
    -webkit-user-select:none;
       -moz-user-select:none;
            user-select:none;
  }

  .badge{
    position:absolute;
    top:18px;
    left:50%;
    transform:translateX(-50%);
    background:rgba(255,255,255,0.18);
    color:#fff;
    padding:8px 16px;
    border-radius:999px;
    font-weight:700;
    letter-spacing:.6px;
    box-shadow:0 8px 24px rgba(2,6,23,0.08);
    backdrop-filter: blur(4px);
  }

  h2{
    font-size:clamp(1rem,2.5vw,1.6rem);
    line-height:1.35;
    margin-bottom:18px;
    max-width:88%;
    font-weight:700;
    text-shadow:0 6px 20px rgba(2,6,23,0.12);
  }

  .hin{
    background:rgba(255,255,255,0.18);
    color:#fff;
    padding:12px 16px;
    border-radius:12px;
    max-width:88%;
    line-height:1.6;
    font-size:clamp(.92rem,2vw,1.04rem);
    box-shadow:0 6px 18px rgba(2,6,23,0.06) inset;
  }

  /* dots */
  .dots{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    bottom:16px;
    display:flex;
    gap:8px;
    z-index:40;
    flex-wrap:wrap;
    justify-content:center;
    padding:6px;
  }
  .dot{
    width:10px;height:10px;border-radius:50%;
    background:rgba(255,255,255,0.32);
    transition:transform .22s, background .22s;
  }
  .dot.active{background:#fff;transform:scale(1.35)}

  /* top controls (sound + list) */
  .controls{
    position:absolute;
    top:14px;
    right:14px;
    display:flex;
    gap:10px;
    z-index:50;
  }
  .btn{
    background:rgba(255,255,255,0.18);
    color:#fff;
    border:0;
    padding:8px 12px;
    border-radius:12px;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 8px 20px rgba(2,6,23,0.06);
    backdrop-filter: blur(4px);
  }
  .btn:active{transform:scale(.98)}
  .legend{
    position:absolute;
    top:16px;
    left:16px;
    color:rgba(255,255,255,0.95);
    font-weight:700;
    padding:8px 12px;
    border-radius:12px;
    background:rgba(0,0,0,0.12);
    font-size:.92rem;
    z-index:50;
  }

  /* 50 gradients */
  .c1{background:linear-gradient(135deg,#4a90e2,#357ABD)} .c2{background:linear-gradient(135deg,#27ae60,#1e874b)}
  .c3{background:linear-gradient(135deg,#f39c12,#e67e22)} .c4{background:linear-gradient(135deg,#9b59b6,#8e44ad)}
  .c5{background:linear-gradient(135deg,#e74c3c,#c0392b)} .c6{background:linear-gradient(135deg,#16a085,#13866f)}
  .c7{background:linear-gradient(135deg,#34495e,#2c3e50)} .c8{background:linear-gradient(135deg,#e67e22,#d35400)}
  .c9{background:linear-gradient(135deg,#2980b9,#2471a3)} .c10{background:linear-gradient(135deg,#8e44ad,#71368a)}
  .c11{background:linear-gradient(135deg,#c0392b,#96281b)} .c12{background:linear-gradient(135deg,#1abc9c,#16a085)}
  .c13{background:linear-gradient(135deg,#2ecc71,#27ae60)} .c14{background:linear-gradient(135deg,#f1c40f,#f39c12)}
  .c15{background:linear-gradient(135deg,#d35400,#a84300)} .c16{background:linear-gradient(135deg,#7f8c8d,#636e72)}
  .c17{background:linear-gradient(135deg,#8e44ad,#6c3483)} .c18{background:linear-gradient(135deg,#3498db,#2e86c1)}
  .c19{background:linear-gradient(135deg,#9b59b6,#8e44ad)} .c20{background:linear-gradient(135deg,#16a085,#0e6655)}
  .c21{background:linear-gradient(135deg,#3b82f6,#1e40af)} .c22{background:linear-gradient(135deg,#06b6d4,#075985)}
  .c23{background:linear-gradient(135deg,#fb7185,#be185d)} .c24{background:linear-gradient(135deg,#60a5fa,#2563eb)}
  .c25{background:linear-gradient(135deg,#f97316,#ea580c)} .c26{background:linear-gradient(135deg,#34d399,#059669)}
  .c27{background:linear-gradient(135deg,#f472b6,#c026d3)} .c28{background:linear-gradient(135deg,#f87171,#ef4444)}
  .c29{background:linear-gradient(135deg,#60a5fa,#3b82f6)} .c30{background:linear-gradient(135deg,#a78bfa,#7c3aed)}
  .c31{background:linear-gradient(135deg,#fda4af,#f43f5e)} .c32{background:linear-gradient(135deg,#86efac,#22c55e)}
  .c33{background:linear-gradient(135deg,#fde047,#f59e0b)} .c34{background:linear-gradient(135deg,#fbcfe8,#f472b6)}
  .c35{background:linear-gradient(135deg,#93c5fd,#2563eb)} .c36{background:linear-gradient(135deg,#a3e635,#65a30d)}
  .c37{background:linear-gradient(135deg,#fb923c,#f97316)} .c38{background:linear-gradient(135deg,#60a5fa,#0284c7)}
  .c39{background:linear-gradient(135deg,#34d399,#059669)} .c40{background:linear-gradient(135deg,#c084fc,#7c3aed)}
  .c41{background:linear-gradient(135deg,#f43f5e,#be123c)} .c42{background:linear-gradient(135deg,#60a5fa,#0284c7)}
  .c43{background:linear-gradient(135deg,#fb923c,#ea580c)} .c44{background:linear-gradient(135deg,#a78bfa,#6d28d9)}
  .c45{background:linear-gradient(135deg,#fb7185,#ef4444)} .c46{background:linear-gradient(135deg,#34d399,#059669)}
  .c47{background:linear-gradient(135deg,#60a5fa,#0284c7)} .c48{background:linear-gradient(135deg,#fda4af,#fb7185)}
  .c49{background:linear-gradient(135deg,#a7f3d0,#10b981)} .c50{background:linear-gradient(135deg,#fda4af,#fb7185)}

  /* responsive tweaks */
  @media (max-width:460px){
    .viewport{max-width:100%;height:100vh;border-radius:0}
    .card{padding:28px}
    .badge{top:12px;padding:6px 12px;font-size:.92rem}
    .legend{display:none}
    .controls{right:8px;top:8px}
    .dots{bottom:12px}
  }
</style>
</head>
<body>

  <div class="viewport" id="viewport" aria-label="Prayer swiper">
    <div class="legend">50 Prayers ‚Äî Swipe</div>
    <div class="controls">
      <button class="btn" id="audioBtn" aria-pressed="false">üîà Play</button>
      <button class="btn" id="listBtn" title="Open list">‚â°</button>
    </div>

    <div class="track" id="track" role="list"></div>

    <div class="dots" id="dots" aria-hidden="false"></div>
  </div>

<script>
/* ----- Data: 50 prayers (mixed multi-faith + universal) ----- */
const prayers = [
  {en:"Lord, bless the work of my hands and let Your favor rest upon me.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§Æ‡•á‡§∞‡•á ‡§π‡§æ‡§•‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§Æ ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§ï‡•É‡§™‡§æ ‡§Æ‡•Å‡§ù ‡§™‡§∞ ‡§¨‡§®‡§æ‡§ï‡§∞ ‡§∞‡§ñ‡•ã‡•§"},
  {en:"God, give me wisdom to make right decisions and courage to act.", hi:"‡§π‡•á ‡§≠‡§ó‡§µ‡§æ‡§®, ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§π‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§®‡•á ‡§ï‡•Ä ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§∏‡§æ‡§π‡§∏ ‡§¶‡•ã‡•§"},
  {en:"May peace and compassion guide every step I take today.", hi:"‡§Ü‡§á‡§è ‡§Ü‡§ú ‡§Æ‡•á‡§∞‡•á ‡§π‡§∞ ‡§ï‡§¶‡§Æ ‡§ï‡•ã ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§î‡§∞ ‡§ï‡§∞‡•Å‡§£‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§"},
  {en:"‡•ê ‡§∏‡§∞‡§∏‡•ç‡§µ‡§§‡•ç‡§Ø‡•à ‡§®‡§Æ‡§É ‚Äî Grant me clarity and the gift of learning.", hi:"‡•ê ‡§∏‡§∞‡§∏‡•ç‡§µ‡§§‡•ç‡§Ø‡•à ‡§®‡§Æ‡§É ‚Äî ‡§Æ‡•Å‡§ù‡•á ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§î‡§∞ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§æ ‡§µ‡§∞‡§¶‡§æ‡§® ‡§¶‡•ã‡•§"},
  {en:"Allah, make my intentions pure and my actions pleasing to You.", hi:"‡§Ö‡§≤‡•ç‡§≤‡§æ‡§π, ‡§Æ‡•á‡§∞‡•Ä ‡§®‡•Ä‡§Ø‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§æ‡§ï ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§ï‡§∞‡•ç‡§Æ‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§¨‡§®‡§æ‡§ì‡•§"},
  {en:"Waheguru, bless my efforts and keep my heart humble.", hi:"‡§µ‡§æ‡§π‡•á‡§ó‡•Å‡§∞‡•Å, ‡§Æ‡•á‡§∞‡•á ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§π‡•É‡§¶‡§Ø ‡§ï‡•ã ‡§®‡§Æ‡•ç‡§∞ ‡§∞‡§ñ‡•ã‡•§"},
  {en:"May I see the good in others and serve with a joyful heart.", hi:"‡§Æ‡•à‡§Ç ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§≠‡§≤‡§æ‡§à ‡§¶‡•á‡§ñ ‡§∏‡§ï‡•Ç‡§Å ‡§î‡§∞ ‡§π‡§∞‡•ç‡§∑‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•É‡§¶‡§Ø ‡§∏‡•á ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡•Ç‡§Å‡•§"},
  {en:"Lord, heal the broken places in me and make me whole.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§Æ‡•Å‡§ù‡§Æ‡•á‡§Ç ‡§ü‡•Ç‡§ü‡•Ä ‡§ú‡§ó‡§π‡•ã‡§Ç ‡§ï‡•ã ‡§ö‡§Ç‡§ó‡§æ ‡§ï‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§¨‡§®‡§æ‡§ì‡•§"},
  {en:"May all beings be free from suffering and full of ease.", hi:"‡§∏‡§≠‡•Ä ‡§ú‡•Ä‡§µ ‡§¶‡•Å‡§ñ‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡•Å‡§ï‡•ç‡§§ ‡§î‡§∞ ‡§∏‡•Å‡§ñ-‡§∂‡§æ‡§®‡•ç‡§§‡§ø ‡§∏‡•á ‡§≠‡§∞‡§™‡•Ç‡§∞ ‡§π‡•ã‡§Ç‡•§"},
  {en:"Teach me patience (Sabr) in trials and gratitude in blessings.", hi:"‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§¨‡•ç‡§∞ ‡§î‡§∞ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§ï‡•É‡§§‡§ú‡•ç‡§û‡§§‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"God, open doors of opportunity that align with Your will.", hi:"‡§π‡•á ‡§≠‡§ó‡§µ‡§æ‡§®, ‡§ê‡§∏‡•Ä ‡§Ö‡§µ‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§æ‡§π ‡§ñ‡•ã‡§≤‡•ã ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•Ä ‡§á‡§ö‡•ç‡§õ‡§æ ‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§§‡•Ä ‡§π‡•ã‡§Ç‡•§"},
  {en:"Father, grant me honesty in work and humility in success.", hi:"‡§π‡•á ‡§™‡§ø‡§§‡§æ, ‡§Æ‡•á‡§∞‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§®‡§Æ‡•ç‡§∞‡§§‡§æ ‡§¶‡•ã‡•§"},
  {en:"May compassion fill my words, and kindness guide my hands.", hi:"‡§Æ‡•á‡§∞‡•á ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡§∞‡•Å‡§£‡§æ ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§ï‡§∞‡•ç‡§Æ‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡§Ø‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§∞‡•á‡•§"},
  {en:"‡•ê ‡§®‡§Æ‡§É ‡§∂‡§ø‡§µ‡§æ‡§Ø ‚Äî Strengthen me to overcome obstacles.", hi:"‡•ê ‡§®‡§Æ‡§É ‡§∂‡§ø‡§µ‡§æ‡§Ø ‚Äî ‡§Æ‡•Å‡§ù‡•á ‡§¨‡§æ‡§ß‡§æ‡§ì‡§Ç ‡§™‡§∞ ‡§µ‡§ø‡§ú‡§Ø ‡§™‡§æ‡§®‡•á ‡§ï‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø ‡§¶‡•ã‡•§"},
  {en:"Ya Allah, help me to trust Your timing and plan.", hi:"‡§Ø‡§æ ‡§Ö‡§≤‡•ç‡§≤‡§æ‡§π, ‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§î‡§∞ ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§™‡§∞ ‡§≠‡§∞‡•ã‡§∏‡§æ ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"Satnam Waheguru ‚Äî Help me live truthfully and serve others.", hi:"‡§∏‡§§‡§®‡§æ‡§Æ ‡§µ‡§æ‡§π‡•á‡§ó‡•Å‡§∞‡•Å ‚Äî ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§§‡•ç‡§Ø‡§®‡§ø‡§∑‡•ç‡§† ‡§ú‡•Ä‡§µ‡§® ‡§ú‡•Ä‡§®‡•á ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•ã‡•§"},
  {en:"Bless my family, protect those I love, and keep us united.", hi:"‡§Æ‡•á‡§∞‡•á ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã, ‡§ú‡§ø‡§®‡§∏‡•á ‡§Æ‡•à‡§Ç ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ/‡§ï‡§∞‡§§‡•Ä ‡§π‡•Ç‡§Å ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§ñ‡•ã ‡§î‡§∞ ‡§π‡§Æ‡•á‡§Ç ‡§è‡§ï‡§ú‡•Å‡§ü ‡§∞‡§ñ‡•ã‡•§"},
  {en:"Lord, give me a heart that forgives quickly and loves deeply.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§Æ‡•Å‡§ù‡•á ‡§∂‡•Ä‡§ò‡•ç‡§∞ ‡§ï‡•ç‡§∑‡§Æ‡§æ ‡§ï‡§∞‡§®‡•á ‡§î‡§∞ ‡§ó‡§π‡§∞‡§æ‡§à ‡§∏‡•á ‡§™‡•ç‡§∞‡•á‡§Æ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§π‡•É‡§¶‡§Ø ‡§¶‡•ã‡•§"},
  {en:"May my work be honest, useful, and bring blessing to many.", hi:"‡§Æ‡•á‡§∞‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞, ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§π‡•ã ‡§î‡§∞ ‡§ï‡§à ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¨‡§®‡•á‡•§"},
  {en:"God, protect me from harm and guide my path each day.", hi:"‡§π‡•á ‡§≠‡§ó‡§µ‡§æ‡§®, ‡§Æ‡•Å‡§ù‡•á ‡§π‡§∞ ‡§¨‡•Å‡§∞‡§æ‡§à ‡§∏‡•á ‡§¨‡§ö‡§æ‡§ì ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§ï‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§∞‡•ã‡•§"},
  {en:"Let awareness (mindfulness) steady my mind and soften my heart.", hi:"‡§∏‡•ç‡§Æ‡§∞‡§£‡§∂‡•Ä‡§≤‡§§‡§æ ‡§Æ‡•á‡§∞‡•á ‡§Æ‡§® ‡§ï‡•ã ‡§∏‡•ç‡§•‡§ø‡§∞ ‡§ï‡§∞‡•á ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§π‡•É‡§¶‡§Ø ‡§ï‡•ã ‡§ï‡•ã‡§Æ‡§≤ ‡§¨‡§®‡§æ‡§è‡•§"},
  {en:"Bless the leaders with wisdom and the poor with relief.", hi:"‡§®‡•á‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø ‡§î‡§∞ ‡§ó‡§∞‡•Ä‡§¨‡•ã‡§Ç ‡§ï‡•ã ‡§∞‡§æ‡§π‡§§ ‡§ï‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã‡•§"},
  {en:"Help me to speak truth with love and act with courage.", hi:"‡§Æ‡•Å‡§ù‡•á ‡§™‡•ç‡§∞‡•á‡§Æ ‡§∏‡•á ‡§∏‡§§‡•ç‡§Ø ‡§¨‡•ã‡§≤‡§®‡§æ ‡§î‡§∞ ‡§∏‡§æ‡§π‡§∏‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"May the light of the Divine illuminate my decisions.", hi:"‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§Æ‡•á‡§∞‡•á ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡•§"},
  {en:"God, grant me restful sleep and strength for tomorrow.", hi:"‡§π‡•á ‡§≠‡§ó‡§µ‡§æ‡§®, ‡§Æ‡•Å‡§ù‡•á ‡§∂‡§æ‡§Ç‡§§‡§ø‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§ø‡§¶‡•ç‡§∞‡§æ ‡§î‡§∞ ‡§ï‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∂‡§ï‡•ç‡§§‡§ø ‡§¶‡•ã‡•§"},
  {en:"Guide me to use my talents to uplift others.", hi:"‡§Æ‡•Å‡§ù‡•á ‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡§§‡§ø‡§≠‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§â‡§†‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"May I be generous with what I have and mindful of others' needs.", hi:"‡§Æ‡•à‡§Ç ‡§Ö‡§™‡§®‡•Ä ‡§ö‡•Ä‡§ú‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§â‡§¶‡§æ‡§∞ ‡§∞‡§π‡•Ç‡§Å ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§‡•ã‡§Ç ‡§ï‡•á ‡§™‡•ç‡§∞‡§§‡§ø ‡§∏‡§ö‡•á‡§§ ‡§∞‡§π‡•Ç‡§Å‡•§"},
  {en:"Lord, give me courage to start again when I fail.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§µ‡§ø‡§´‡§≤ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§∏‡§æ‡§π‡§∏ ‡§¶‡•ã‡•§"},
  {en:"Grant me peace in decision and clarity in confusion.", hi:"‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§î‡§∞ ‡§≠‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•ã‡•§"},
  {en:"May truth, mercy, and justice shape my daily life.", hi:"‡§∏‡§§‡•ç‡§Ø, ‡§¶‡§Ø‡§æ ‡§î‡§∞ ‡§®‡•ç‡§Ø‡§æ‡§Ø ‡§Æ‡•á‡§∞‡•á ‡§¶‡•à‡§®‡§ø‡§ï ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•ã ‡§Ü‡§ï‡§æ‡§∞ ‡§¶‡•á‡§Ç‡•§"},
  {en:"Protect those who travel, work, and serve others today.", hi:"‡§Ü‡§ú ‡§ú‡•ã ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•ã‡•§"},
  {en:"May I be a calm presence in every stressful place.", hi:"‡§Æ‡•à‡§Ç ‡§π‡§∞ ‡§§‡§®‡§æ‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞ ‡§è‡§ï ‡§∂‡§æ‡§Ç‡§§ ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§¨‡§® ‡§∏‡§ï‡•Ç‡§Å‡•§"},
  {en:"Bless the sick with healing and the grieving with comfort.", hi:"‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø ‡§î‡§∞ ‡§∂‡•ã‡§ï ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§æ‡§Ç‡§§‡•ç‡§µ‡§®‡§æ ‡§ï‡§æ ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã‡•§"},
  {en:"Help me to forgive myself and learn from my mistakes.", hi:"‡§Æ‡•Å‡§ù‡•á ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§Æ‡§æ‡§´ ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§ó‡§≤‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∏‡•Ä‡§ñ‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"May love rule my family, and peace settle in our home.", hi:"‡§™‡•ç‡§∞‡•á‡§Æ ‡§Æ‡•á‡§∞‡•á ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§™‡§∞ ‡§∞‡§æ‡§ú ‡§ï‡§∞‡•á ‡§î‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ò‡§∞ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§∞‡§π‡•á‡•§"},
  {en:"Lord, lead me to honest friends and true companionship.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§Æ‡•Å‡§ù‡•á ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞ ‡§Æ‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§î‡§∞ ‡§∏‡§ö‡•ç‡§ö‡•á ‡§∏‡§æ‡§•‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§ì‡§∞ ‡§≤‡•á ‡§ö‡§≤‡•ã‡•§"},
  {en:"Allah, bless our work so it brings benefit to the community.", hi:"‡§Ö‡§≤‡•ç‡§≤‡§æ‡§π, ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã ‡§§‡§æ‡§ï‡§ø ‡§µ‡•á ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§æ‡§≠‡§ï‡§æ‡§∞‡•Ä ‡§π‡•ã‡§Ç‡•§"},
  {en:"May my speech build up others and never destroy.", hi:"‡§Æ‡•á‡§∞‡•Ä ‡§¨‡§æ‡§§‡•á‡§Ç ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§µ‡§ø‡§®‡§æ‡§∂ ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§"},
  {en:"Grant me a grateful heart for small and large blessings.", hi:"‡§õ‡•ã‡§ü‡•á ‡§î‡§∞ ‡§¨‡§°‡§º‡•á ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡•Å‡§ù‡•á ‡§ï‡•É‡§§‡§ú‡•ç‡§û ‡§π‡•É‡§¶‡§Ø ‡§¶‡•ã‡•§"},
  {en:"Let me find rest in You when the world feels too heavy.", hi:"‡§ú‡§¨ ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§¨‡§π‡•Å‡§§ ‡§≠‡§æ‡§∞‡•Ä ‡§≤‡§ó‡•á ‡§§‡§¨ ‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§∂‡•ç‡§∞‡§æ‡§Æ ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§è‡•§"},
  {en:"May my choices reflect care for Earth and future generations.", hi:"‡§Æ‡•á‡§∞‡•á ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§™‡•É‡§•‡•ç‡§µ‡•Ä ‡§î‡§∞ ‡§Ü‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§™‡•Ä‡§¢‡§º‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å‡•§"},
  {en:"Grant me perseverance; steady my hands and my will.", hi:"‡§Æ‡•Å‡§ù‡•á ‡§¶‡•É‡§¢‡§º‡§§‡§æ ‡§¶‡•ã; ‡§Æ‡•á‡§∞‡•á ‡§π‡§æ‡§•‡•ã‡§Ç ‡§î‡§∞ ‡§á‡§ö‡•ç‡§õ‡§æ‡§∂‡§ï‡•ç‡§§‡§ø ‡§ï‡•ã ‡§∏‡•ç‡§•‡§ø‡§∞ ‡§ï‡§∞‡•ã‡•§"},
  {en:"Help me to listen more than I speak, and to understand.", hi:"‡§Æ‡•Å‡§ù‡•á ‡§¨‡•ã‡§≤‡§®‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡•Å‡§®‡§®‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡§ù‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"Bless those who serve the sick and the poor this day.", hi:"‡§â‡§® ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§¶‡•ã ‡§ú‡•ã ‡§Ü‡§ú ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•ã‡§Ç ‡§î‡§∞ ‡§ó‡§∞‡•Ä‡§¨‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§"},
  {en:"May joy arise in small moments and grow into deep peace.", hi:"‡§õ‡•ã‡§ü‡•Ä-‡§õ‡•ã‡§ü‡•Ä ‡§ï‡•ç‡§∑‡§£‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ü‡§®‡§Ç‡§¶ ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§π‡•ã ‡§î‡§∞ ‡§µ‡§π ‡§ó‡§π‡§∞‡§æ ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§¨‡§® ‡§ú‡§æ‡§è‡•§"},
  {en:"Guide my finances so I give wisely and live simply.", hi:"‡§Æ‡•á‡§∞‡•Ä ‡§µ‡§ø‡§§‡•ç‡§§ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§ï‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§∞‡•ã ‡§§‡§æ‡§ï‡§ø ‡§Æ‡•à‡§Ç ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§æ‡§®‡•Ä ‡§∏‡•á ‡§¶‡•Ç‡§Å ‡§î‡§∞ ‡§∏‡§∞‡§≤ ‡§ú‡•Ä‡§µ‡§® ‡§ú‡§ø‡§ä‡§Å‡•§"},
  {en:"Lord, teach me to wait patiently for what is right.", hi:"‡§π‡•á ‡§™‡•ç‡§∞‡§≠‡•Å, ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§π‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ß‡•à‡§∞‡•ç‡§Ø‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§ì‡•§"},
  {en:"May compassion be my first response to every suffering.", hi:"‡§π‡§∞ ‡§™‡•Ä‡§°‡§º‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§∞‡•Å‡§£‡§æ ‡§Æ‡•á‡§∞‡•Ä ‡§™‡•ç‡§∞‡§•‡§Æ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•ã‡•§"},
  {en:"Grant me humility in success and dignity in defeat.", hi:"‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§®‡§Æ‡•ç‡§∞‡§§‡§æ ‡§î‡§∞ ‡§π‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§ó‡§∞‡§ø‡§Æ‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•ã‡•§"},
  {en:"Help children grow in safety, joy, and wisdom.", hi:"‡§¨‡§ö‡•ç‡§ö‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ, ‡§Ü‡§®‡§Ç‡§¶ ‡§î‡§∞ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø ‡§Æ‡•á‡§Ç ‡§¨‡§¢‡§º‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•ã‡•§"},
  {en:"May I be a peacemaker where conflicts arise.", hi:"‡§ú‡§π‡§æ‡§Å ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑ ‡§â‡§†‡•á‡§Ç, ‡§Æ‡•à‡§Ç ‡§µ‡§π‡§æ‡§Ç ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§¨‡§® ‡§∏‡§ï‡•Ç‡§Å‡•§"},
  {en:"Thank You for guiding me through every season of life.", hi:"‡§ú‡•Ä‡§µ‡§® ‡§ï‡•á ‡§π‡§∞ ‡§ö‡§∞‡§£ ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶‡•§"}
];

/* ----- Build slides & dots ----- */
const track = document.getElementById('track');
const dotsContainer = document.getElementById('dots');
const viewport = document.getElementById('viewport');

const total = prayers.length;
let index = 0;

prayers.forEach((p,i) => {
  const s = document.createElement('section');
  s.className = `card c${(i%50)+1}`;
  s.setAttribute('role','listitem');
  s.innerHTML = `
    <div class="badge" tabindex="0">Prayer ${i+1} of ${total}</div>
    <h2>${escapeHtml(p.en)}</h2>
    <div class="hin">${escapeHtml(p.hi)}</div>
  `;
  track.appendChild(s);

  const dot = document.createElement('div');
  dot.className = 'dot';
  if(i===0) dot.classList.add('active');
  dot.dataset.i = i;
  dot.title = `Prayer ${i+1}`;
  dot.addEventListener('click', ()=>{ index = i; update(); });
  dotsContainer.appendChild(dot);
});

/* ----- Helpers ----- */
function escapeHtml(s){ return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

/* ----- Swipe / Pointer / Touch handling (manual loop) ----- */
let startX = 0;
let isPointerDown = false;
let lastTranslate = 0;

function setTranslate(translatePx){
  track.style.transform = `translateX(${translatePx}px)`;
}

function update(){
  const w = viewport.clientWidth;
  const translate = -index * w;
  track.style.transition = 'transform .42s cubic-bezier(.22,.95,.2,1)';
  setTranslate(translate);
  // dots
  Array.from(dotsContainer.children).forEach((d, i) => d.classList.toggle('active', i === index));
  // focus badge
  const badge = track.children[index]?.querySelector('.badge');
  if(badge) badge.focus({preventScroll:true});
}

/* pointer events cover mouse and touch in modern browsers */
track.addEventListener('pointerdown', (e) => {
  isPointerDown = true;
  startX = e.clientX;
  lastTranslate = -index * viewport.clientWidth;
  track.style.transition = 'none';
  try { track.setPointerCapture(e.pointerId); } catch (err) {}
});
track.addEventListener('pointermove', (e) => {
  if(!isPointerDown) return;
  const dx = e.clientX - startX;
  setTranslate(lastTranslate + dx);
});
track.addEventListener('pointerup', (e) => {
  if(!isPointerDown) return;
  isPointerDown = false;
  const dx = e.clientX - startX;
  const threshold = Math.max(40, viewport.clientWidth * 0.14);
  if(dx > threshold) {
    index = (index - 1 + total) % total;
  } else if(dx < -threshold) {
    index = (index + 1) % total;
  }
  update();
  try { track.releasePointerCapture && track.releasePointerCapture(e.pointerId); } catch(err) {}
});
track.addEventListener('pointercancel', () => {
  isPointerDown = false;
  update();
});

/* touch fallback */
track.addEventListener('touchstart', (e)=> {
  if(e.touches && e.touches[0]) {
    startX = e.touches[0].clientX;
    lastTranslate = -index * viewport.clientWidth;
    track.style.transition = 'none';
  }
}, {passive:true});
track.addEventListener('touchmove', (e)=> {
  if(e.touches && e.touches[0]) {
    const dx = e.touches[0].clientX - startX;
    setTranslate(lastTranslate + dx);
  }
}, {passive:true});
track.addEventListener('touchend', (e)=> {
  const changed = e.changedTouches && e.changedTouches[0];
  const dx = changed ? changed.clientX - startX : 0;
  const threshold = Math.max(40, viewport.clientWidth * 0.14);
  if(dx > threshold) index = (index - 1 + total) % total;
  else if(dx < -threshold) index = (index + 1) % total;
  update();
});

/* keyboard support */
window.addEventListener('keydown', (e) => {
  if(e.key === 'ArrowLeft') { index = (index - 1 + total) % total; update(); }
  if(e.key === 'ArrowRight'){ index = (index + 1) % total; update(); }
  if(e.key === 'Home'){ index = 0; update(); }
  if(e.key === 'End'){ index = total - 1; update(); }
});

/* window resize -> adjust transform */
window.addEventListener('resize', () => {
  clearTimeout(window.__resizetimer);
  window.__resizetimer = setTimeout(() => update(), 80);
});

/* initial position */
update();

/* ----- Optional ambient audio via WebAudio (user gesture required) ----- */
let audioCtx = null;
let masterGain = null;
let osc = null;
let lfo = null;
let audioPlaying = false;
const audioBtn = document.getElementById('audioBtn');

function startAmbient(){
  if(audioCtx) return;
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0.02; // very low volume
  masterGain.connect(audioCtx.destination);

  const o1 = audioCtx.createOscillator(); o1.type = 'sine'; o1.frequency.value = 220;
  const o2 = audioCtx.createOscillator(); o2.type = 'sine'; o2.frequency.value = 277.18;

  const g1 = audioCtx.createGain(); g1.gain.value = 0.6;
  const g2 = audioCtx.createGain(); g2.gain.value = 0.5;

  lfo = audioCtx.createOscillator(); lfo.type = 'sine'; lfo.frequency.value = 0.07;
  const lfoGain = audioCtx.createGain(); lfoGain.gain.value = 0.25;

  lfo.connect(lfoGain);
  lfoGain.connect(g1.gain);
  lfoGain.connect(g2.gain);

  o1.connect(g1); g1.connect(masterGain);
  o2.connect(g2); g2.connect(masterGain);

  o1.start(); o2.start(); lfo.start();

  osc = [o1,o2];
  audioPlaying = true;
  audioBtn.textContent = 'üîä On';
  audioBtn.setAttribute('aria-pressed','true');
}

function stopAmbient(){
  if(!audioCtx) return;
  try {
    osc.forEach(o=>o.stop());
    lfo.stop();
    audioCtx.close();
  } catch(err){}
  audioCtx = null;
  masterGain = null;
  osc = null;
  lfo = null;
  audioPlaying = false;
  audioBtn.textContent = 'üîà Play';
  audioBtn.setAttribute('aria-pressed','false');
}

audioBtn.addEventListener('click', () => {
  if(!audioPlaying) {
    try { startAmbient(); } catch(err) { console.warn('Audio start failed', err); }
  } else { stopAmbient(); }
});

/* list button: quick jump to number */
const listBtn = document.getElementById('listBtn');
listBtn.addEventListener('click', ()=>{
  const n = prompt(`Enter prayer number (1‚Äì${total}) to jump to:`);
  if(!n) return;
  const num = parseInt(n);
  if(Number.isInteger(num) && num >=1 && num <= total){
    index = num - 1;
    update();
  } else {
    alert('Please enter a valid number between 1 and ' + total);
  }
});

/* Accessibility: announce slide changes */
const live = document.createElement('div');
live.setAttribute('aria-live','polite');
live.style.position='absolute'; live.style.left='-9999px';
document.body.appendChild(live);
const origUpdate = update;
update = function(){
  const w = viewport.clientWidth;
  track.style.transition = 'transform .42s cubic-bezier(.22,.95,.2,1)';
  track.style.transform = `translateX(${-index * w}px)`;
  Array.from(dotsContainer.children).forEach((d,i)=> d.classList.toggle('active', i===index));
  const badge = track.children[index]?.querySelector('.badge');
  if(badge) badge.focus({preventScroll:true});
  live.textContent = `Showing prayer ${index+1} of ${total}`;
};
/* call once to ensure wrapper update used */
update();

</script>
</body>
</html>
